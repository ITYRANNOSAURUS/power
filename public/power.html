<!-- Node.js와 Express.js를 이용하여 서버를 구동 -->

<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내일의 전기세</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <!-- <script type="module" src="js/powerprice.js"></script>
    <script type="module" src="js/poweruse.js"></script> -->
    <link rel="stylesheet" href="css/power.css">


</head>

<body>

    <div class="videoContainer">
        <!-- 배경 동영상 추가 -->
        <video playsinline autoplay muted loop id="bgvid"
            style="position: absolute; right: 0; bottom: 0; min-width: 100%; min-height: 100%; object-fit: cover;">
            <source src="src/background.mp4" type="video/mp4">
        </video>
    </div>

    <a href="/">
        <img src="src/logo.svg" alt="Logo"
            style="position: absolute; top: 0rem; left: 3rem; width: 18rem; height: 10rem; z-index: 10;">
    </a>


    <div class="main">
        <div class="main-title">
            <h1>미래의 <span class="title-highlight1">전기 단가</span>, <span class="title-highlight2">전력 소비량</span>을 알아보세요.
            </h1>
        </div>
        <div class="hover">
            <div class="hover1">
                <h1 onclick="window.location.href='/powerprice'">⚡전기 단가 계산기 바로가기 ▶️</h1>
            </div>
            <div class="hover2">
                <h1 onclick="window.location.href='/poweruse'"> 💡전력 소비량 계산기 바로가기 ▶️</h1>
            </div>
            <div class="hover3">
                <h1 onclick="window.location.href='/powerhome'"> 🏡우리 집 전기세 계산기 바로가기 ▶️</h1>
            </div>
        </div>
    </div>



    <div class="videoContainer2">
        <!-- 배경 동영상 추가 -->
        <video playsinline autoplay muted loop id="bgvid">
            <source src="src/sky.mp4" type="video/mp4">
        </video>
    </div>


    <div class="pricerchart">

        <div class="maincharttext">
            <h1>전력 단가는 상승하는 추세를 보이고 있습니다.</h1>
            <p>1955 ~ 2022</p>

        </div>

        <div class="arrow" id="upArrow">
            <img src="src/up-arrow.png" alt="up-arrow">
        </div>

        <div style="
    width: 60vw;
    height: 60vh;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 3rem;
  ">
            <!--차트가 그려질 부분-->
            <canvas id="PriceRealChart"></canvas>
        </div>
        <script type="module" src="/js/prChart.js"></script>

        <p>자료 출처 : 전력통계정보시스템</p>

    </div>


    <div class="python">
        <div class="python-textbox">
            <div class="python-main">
                <h1><span style="color: rgb(0, 136, 255);">scikit-learn</span> 라이브러리를 사용하여</h1>
                <h1><span style="color: rgb(228, 74, 74);">선형회귀(Linear Regression)</span> 방식으로 </h1>
                <h1>예측을 수행했습니다.</h1>
            </div>
            <p style="font-size: 1.2rem;">전기 단가, 전력 소비량 계산기의 <span style="font-weight: bold;">1955년 - 2022년</span> 수치는
                실제 데이터입니다. </p>
            <p style="font-size: 1.2rem;"><span style="font-weight: bold">2023년 - 2070년</span> 수치는 이전 데이터를 바탕으로 한 출력한
                예측값입니다.</p>
        </div>
    </div>

    <h1>미래 1인당 전력 소비량 계산기</h1>

    <div id="poweruse-container">
        <input type="number" id="poweruse-yearInput" placeholder="연도를 입력하세요.">
        <button onclick="getPowerConsumption()">확인</button>
        <p id="poweruse-result"></p>
    </div>

    <div style="width: 900px; height: 900px;">
        <canvas id="useChart"></canvas>
    </div>



    <script>
        var isAnimating = false;

        function handleScroll() {
            var pythonElement = document.querySelector('.python');
            var textboxElement = document.querySelector('.python-textbox');
            var position = pythonElement.getBoundingClientRect();

            if (position.top <= 60 && position.top >= 40 && !isAnimating) {
                console.log("2")
                isAnimating = true;
                textboxElement.style.animation = 'none';
                setTimeout(function () {
                    textboxElement.style.animation = '';
                }, 10);
                if (!textboxElement.classList.contains('animate')) {
                    textboxElement.classList.add('animate');
                }
            } else if (position.top < 40 || position.top > 60) {
                textboxElement.classList.remove('animate');
            }
        }

        window.addEventListener('scroll', handleScroll);

        document.querySelector('.python-textbox').addEventListener('animationend', function () {
            isAnimating = false;
        });


        // JavaScript를 사용하여 특정 이벤트(예: 페이지 로드)에 따라 애니메이션 클래스를 트리거
        document.addEventListener('DOMContentLoaded', function () {
            const arrow = document.querySelector('.arrow');
            arrow.classList.add('animate-arrow');
        });

    </script>







</body>

</html>